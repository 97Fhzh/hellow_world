
作者：王齐.
背景：大侠应邀来我司交流，遂作此文介绍自己；阅后深有感触，特向大侠申请以飨诸位。

儿时在天山脚下长大。记忆中的冬天总是伴着鹅毛般的大雪，飘落在山的南北，即便是到了盛夏，雪也不曾完全融去。待得晴日，从我家向北望去，总是能看见无际的雪山。前些年，去了一趟玉龙雪山，那里的风景很美，却不能引发我过多的关注。
还在懵懂间，我便上了学。小学和初中没有在我心中留下过多的记忆。在高中，教我数学的是彭老师也是我的班主任，教我语文的是钟老师。他们是一对夫妇，待我极好。我已有二十年没有与他们相相见，仍怀感恩。
我的数学成绩一直不错，从高考到最后一次研究生入学考试期间，所有数学科目的成绩累计在一起也扣不了多少分。年轻人时经常引以为豪，后来与学专业数学的人接触多了，发现自己连基本的加减乘除也没有熟练掌握。细想起来，对数学的热爱，给予我最大的回报，是认识了现在的妻子。能与她在一起，是上天对我最大的恩德。
在1992年我开始上大学，在一所军事技术院校渡过，专业是计算机科学，大学毕业接着读了研究生，还是计算机专业。一年的基础课后，我剩余时间在一家军队研究所工作。这家研究所地处无锡，从我工作的地方向东西南三个方向都可以抵达太湖，向北是进城的路。那时工作得很辛苦，我今天习得的这些皮毛多与这段辛苦有关。当时国内没有实行双休日制度，周六是上班的。在这里，周日的上午还需要加班。我们极少进城，仅是往返车程就需要一个多小时。在休息时间异常珍贵的那段年月，浪费一个小时过于奢侈了。我们很快适应了这里，对发生在这里的一切习以为常。
在这里的生活工作如时钟般规律。住所，食堂和办公室间距离均不过百米，只要不去进城一切都很方便。早晨七点准时起床，步行吃早饭，步行去上班。我们所做的项目约有一千多人共同参与。即便是刚刚参加工作的我们，也需要用一个上午和其他部门的人开会讨论着各种问题。十二点下班用餐之后，我们总是抓紧时间午休。一天之中，下午两点，或者更迟一些才是属于自己的工作时间。下午的工作通常很忙碌。我们小组的主要任务是做一个用于IO处理的专用服务器，我们将其称为IO节点，这些IO节点将通过大规模的网络与运算节点互联。整个项目将由几千个运算节点和IO节点组成。
我很难忘记这段漫长的岁月。我在这里做的第一个课题是做一个基于PCI总线的光纤适配卡，负责PCI总线和光纤接口部分的FPGA逻辑设计。从现在的技术来看，这是一个没有太大难度的课题。而将时光推移到1997年，这个任务并不容易完成。当时有一个资深工程师一直在指导我做这些工作。军队研究所这个传帮带的传统被华为演绎得淋漓尽致。至今在华为的最顶层建筑中有相当多的人来自军队。
在这里加班是一个常态，即使是按照规定，晚上8:00到10:30也是工作时间。我们总能苦中为乐，一天之中最惬意的时间是下午6:00到晚上8:00，我们不是在操场打球，就是邀几个好友打桥牌。当时的军队研究所多有打桥牌的传统。
年轻的时光总是值得回忆，先后在这里做了许多项目。第一个项目很快结束了，之后陆续做着一些与处理器相关的项目。当时我们并没有自己做处理器，而是选用了DEC的Alpha 21264，主桥是21272。在当时Alpha系列处理器是巨型机中的首选处理器，Alpha系列处理器的性能和设计复杂程度较为明显的超过当时的同类产品。
我们组除了要设计一块基于Alpha21264的IO处理器之外，还需要设计网络和盘阵接口部分，这部分设计需要使用一些专用的ASIC。我们有时也需要设计PCB板，这些任务我参与的相对较少。这时起，我开始在工作中而不是从课本中学习计算机体系结构，学习那些与处理器流水线和Cache Memory系统相关的知识。
这个项目历时了很长一段时间，我们除了日常的IC Design工作，也学习操作系统，偶尔写几个驱动程序，修改操作系统内核代码。除了学习与工作直接相关的OSF操作系统之外，我与几个同事共同研究Linux，我们也是国内较早接触Linux的一些人。年轻时有用不完的精力，我们总想着多学习一些知识。
时间过得很快，总有曲终人散。我选择离开军队。这个选择很艰难，实施的过程更加艰难。当时部队研究所的待遇很差，在我之前有无数人提出了这个申请。我至今不知道离开部队是否一定是正确的选择。所有选择都是基于当时的认知，一经决定容不得一丝犹豫。
也许是命中有贵人相助，与他人相比我的专业过程异常顺利。我于2002年离开了部队。近些年我的部分同事和同学们也陆续离开了军队，这些人多数散布在政府机关公务员系统。也有部分人选择了创业。我加入了摩托罗拉半导体，就是今天的飞思卡尔。
加入摩托罗拉半导体后，前后参加了两个与IC Design相关的项目，一个是将Coldfire微架构与802.11b MAC进行集成，另一个是与802.11g MAC进行集成，这两个项目在香港设计。我有近一年的时间频繁穿梭于香港，深圳和上海之间。
不到半年的时间里，我们取消了802.11b的集成工作，之后改做集成802.11g。我仍记得在当年写工作总结时的情景。在总结中我写道我们Terminate了这个项目。香港老板帮我改了改，告诉我说这个项目不是被Terminate了，而是Upgrade到了802.11g。半年之后802.11g的集成工作已经没有地方再去Upgrade，只能被Terminate了。我头一次体会到即便是尽自己全力也无法改变项目最终命运的辛酸。许多资深的员工告诉我这些很正常，在摩托罗拉，失败的项目从数量上远远超过成功的项目。
在香港的IC Design中心很快解散了。我回到摩托罗拉北京选择了一份和Linux有关的工作，这已是2003年的9月。十一长假过后，我在10月8日刚上班的时候得知正式通知，摩托罗拉已经将半导体部门分离出去。新浪在十月七日就发布了这个消息，我们作为摩托罗拉的员工对自己公司的消息远没有新浪灵通。
分离后的公司有个临时名字叫SPSSpinco，后来改名叫飞思卡尔。名字的变革意味着许多。我们从此开始有了飞思卡尔的员工，许多从摩托罗拉加入飞思卡尔的员工多少有些怅然若失。分离后飞思卡尔的业绩还不错，那一年摩托罗拉的业绩也很不错，其总收入甚至还超过了半导体部门还在的年头，华尔街也借此证实了半导体部门确实是摩托罗拉的负担。
此刻我逐渐感受到在外企中国做研发的无奈。我们承接的许多项目只是试探性质。这种试探性的研发对于多数中国工程师是一个无奈的选择，我们被迫接收这种无奈。我们明白即便与美国同事没有文化与语言等等的一系列障碍，他们也不会把产品命脉给予这里，况且许多外企中国的队伍也没有做好这些试探性的研发。中华大地，本不缺乏人才，只是没有用好。在中国外企，许多Talent被一些垃圾项目荒废了，这是一个很严肃的问题。
许多中国外企的项目经理真正精通的是ABC，也只是流利，达意。我见过许多在中国外企工作了十年以上的工程师，真正的研发造诣可能只有两三年。在北京，做了几个和Linux PowerPC相关的BSP后，我准备离开研发团队。我和当时的老板说，我只恨自己的时间太少，恨中国并不强大。离开研发团队后，我加入了Sales部门。此后我一直在这个部门工作，直到离开飞思卡尔。
在Sales部门的工作与华为交往最多，也因此认识了许多新的朋友。这个公司是我除了工作学习之外的，朋友最多的地方。与他们的合作中，我学会了很多在中国外企研发团队中不可能学会的知识，总结了一些PowerPC处理器和Linux相关的内容，书写了《Linux PowerPC详解—核心篇》这本书籍，这本书关注于PowerPC微架构和Linux操作系统本身。
我坚持写完这本书，不想花费了两年半的时间，倘若一开始就知道写书如此艰辛，我必会放弃。写这本书我最大的成就是完稿时，我体会到了重来都没有感受过的平静。这本书出版后，我发现了很多不足，很多内容并不准确，我有计划更新这部分内容，却事与愿违。
完成第一本著作后，我还准备书写《Linux PowerPC详解—应用篇》，当时想写处理器总线和网络这两部分。这本书几乎完成了一半。没有完成另一半的书写不是因为我的懒惰，只是我的身体无法支撑，每天下班后继续用四个小时以上的时间坚持写作。另一个重要的原因是我尚未完成这本书的初稿，便已离开了飞思卡尔。
我至今仍记得离开时的情景，正是在那一周我国西南的汶川发生了强烈地震。
加入英特尔的过程非常偶然。出乎所有人的意料之外，我加入了这个公司的技术团队，负责Linux架构方面的工作。这与飞思卡尔Sales团队多数人的选择不同。我始终对技术工作难以忘怀。在Sales团队工作时，技术层面的事情也未曾懈怠。在书写那些书籍的过程中，亲力亲为，从原理图设计，Bootloader程序到Linux BSP的移植重头做了一遍，最终做出了基于一些PowerPC的参考板和若干参考设计。
在参考板的设计中，元器件的采购最为繁琐。幸运的是，摩托罗拉半导体进入中国非常早，也是一所大学校。我的许多同事朋友如同蒲公英的种子，已遍布在各大半导体公司中，东借几个样片，西凑几个电阻电容，元器件倒是没有什么投入。真正投入的是时间与心血。
在英特尔的工作，并不比摩托罗拉繁忙。我们组从Moblin，Meego到Tizen一路做过来，终极目标是将其用于手机。这些努力是否能够获得最终的胜利，尚无定论。Moblin是英特尔自己做的，基于Open Source开发模式。Meego是英特尔与诺基亚一道做的，后来随着诺基亚与微软的合作而告终结。Tizen在与三星合作。
这些是我在Intel的部分工作，另一部分与处理器体系结构相关。加入Intel的第一件事情是梳理了x86微架构的历史，先后阅读了近万页的x86处理器数据手册，将一些简单的心得体会罗列出来，就是我在开源杂志中的名为《PC的足迹》的这篇文章。
随后我将尚未完成的《LinuxPowerPC详解—应用篇》书稿的部分内容取出，我不喜欢半途而废，却不能身在英特尔去书写与飞思卡尔相关的书籍。PCI Express总线是英特尔的重心所在。我向朋友借了一块Virtex V5的开发板，利用LogiCORE实现了一个Ring-Buffer的DMA数据传送机制，最后完成了《PCI Express体系结构导读》这本书籍的初稿。
将此书交付机械工业出版社已是2009年的冬季。还有一篇文章已在我心中酝酿多时，回想建国以来的艰辛，到今日的种种不合理，心中总有一股不平之气。几天时间写完了《又逢己丑》，发表在我的博客中。这并不是一篇技术文章，我觉得在今天的中国，有些问题如果不得已妥善解决，所谓技术报国只是一个美丽的梦想。
在2010年，ARM的Cortex系列微架构异军突起，电子信息领域正式进入Mobile Era。英特尔面临着前所未有的挑战。是x86还是ARM，没有人能够回答这个问题。历时三个月，分析了从ARM1开始直到Cortex A15微架构之后，书写了《ARM与x86》这篇文章，最初发表在我的博客中，后来被弯曲评论转载。
也是这个原因，我与弯曲评论的陈怀临先生的交往逐渐多了起来，我认识他已经很长时间了。我们聊着各种各样的话题，最多的依然是技术。当时我的专注点依然在处理器微架构，他已经开始创业，做互联网中的应用了。
在微架构中有两个较为复杂的问题，一个是指令流水线，另一个是Cache Memory系统。指令流水线的设计基本上是Superscalar与OOO执行的组合，自Tomasolu算法提出后，很少有质的变化。我选择研究Cache Memory系统。我对Cache Memory系统并不陌生，也做过一些与此相关的小设计。待到动笔时却方显艰难。在阅读了近千篇论文之后，我发现之前对Cache Memory系统的无知，很谨慎地写出《浅谈Cache Memory》，最初的版本是0.01。这篇文章率先发表在弯曲评论。我一直都计划将其更新至1.0，并正式出版，却一直抽不出整块的时间。在不远的将来，这个心愿终究会完成。
在英特尔的另一段时间，需要与华为相处。我与华为有难解之缘，即便在英特尔的研发部门，仍然也有部分时间与他们打交道。向他们推广x86处理器也是作为英特尔员工的责任，不容推却。
在这段时间里，认识了英特尔内部许多极有天分的同事，我们凭借着对处理器，网络，系统总线和对客户的理解，销售与技术团队其利断金。我们一道解决了许多问题，克服了许多困难，在华为的许多项目中战胜了多核MIPS的挑战，获得了一些Design Win。
         Sandy Bridge处理器与PCI Express总线也逐渐成为华为网络基础设施中不可或缺的重要组成部分。这些谈不上是成就，只是一些琐事，慢慢记录下来。岁月一天天过去，已经到了看见他人年轻真心羡慕的年纪。心中却尚有未了心愿，遂有此篇。
